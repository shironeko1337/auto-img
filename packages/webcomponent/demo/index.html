<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0">
  <title>AutoImg Demo</title>
  <style>
    section {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .hidden {
      display: none!important;
    }

    .focus-container {
      position: relative;
    }

    .focus {
      position: absolute;
      border: 2px solid springgreen;
      box-sizing: border-box;
    }

    .htmlelement-showcase {
      background-image: url(https://fastly.picsum.photos/id/200/800/600.jpg?hmac=wHrUWgaA9t7IwxTeGzmRrvvnBIMCFvJ29yZVL8dr8EE);
      background-repeat: none;
    }

    .webcomponent-showcase,
    .htmlelement-showcase {
      border: 1px solid black;
      box-sizing: content-box;
    }

    .row {
      display: flex;
      flex-wrap: wrap;
      width: 100%;
      gap: 1rem;
    }
  </style>
</head>

<body>
  <h1>Showing a 800 × 600 image in a 200 × 200 container</h1>
  <p>Dimensions are expressed as (width × height in px)</p>
  <section>
    <fieldset>
      <legend>Host type:</legend>

      <div>
        <input type="radio"
               name="hosttype"
               value="webcomponent"
               checked />
        <label for="webcomponent"
               title="You only need to load core js library.">Web component</label>
      </div>

      <div>
        <input type="radio"
               name="hosttype"
               value="htmlelement" />
        <label for="htmlelement"
               title="You need extra script to load these elements.">HTMLElement with
          background</label>
      </div>
    </fieldset>
    <div class="row">
      <div>
        <p>1. Fits into the container without distortion</p>
        <auto-img class="webcomponent-showcase"
                  src="https://fastly.picsum.photos/id/200/800/600.jpg?hmac=wHrUWgaA9t7IwxTeGzmRrvvnBIMCFvJ29yZVL8dr8EE"
                  width="200"
                  height="200"
                  focus="27,235;452,490"
                  padding="10"></auto-img>
        <div class="hidden htmlelement-showcase"
             data-auto-img
             data-auto-img-src="https://fastly.picsum.photos/id/200/800/600.jpg?hmac=wHrUWgaA9t7IwxTeGzmRrvvnBIMCFvJ29yZVL8dr8EE"
             data-auto-img-focus="27,235;452,490"
             data-auto-img-padding="10"
             style="width: 200px; height: 200px;"></div>
      </div>
    </div>

    <script>// This is required for loading htmlelement
      window.addEventListener("load", () => {
        window.AutoImg.AutoImgAPI.loadAll();
      });
    </script>
  </section>

  <h1>Original image</h1>
  <section>
    <div>
      <label><input type="checkbox"
               checked
               id="togglefocus" />Toggle focus area</label>
    </div>
    <div class="row">
      <div>
        <p>1.</p>
        <div class="focus-container"
             style="position:relative">
          <div class="focus"
               style="left: 27px; top:235px; width: 425px; height: 255px;"></div>
          <img src="https://fastly.picsum.photos/id/200/800/600.jpg?hmac=wHrUWgaA9t7IwxTeGzmRrvvnBIMCFvJ29yZVL8dr8EE"
               alt="Image not accessible"
               width="800"
               height="600" />
        </div>
      </div>
    </div>
  </section>
  <script src="/dist/auto-img-element.define.global.js"></script>
  <script>
    document.querySelector('#togglefocus').addEventListener('change', () => {
      document.querySelectorAll('.focus').forEach(e => e.classList.toggle('hidden'));
    })

    document.querySelectorAll('input[name="hosttype"]').forEach(radio =>
      radio.addEventListener('change', (e) => {
        document.querySelectorAll('.webcomponent-showcase').forEach(e => e.classList.toggle('hidden'))
        document.querySelectorAll('.htmlelement-showcase').forEach(e => e.classList.toggle('hidden'))
      })
    )
  </script>
</body>

</html>
